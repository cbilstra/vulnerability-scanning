from matplotlib import pyplot as plt
import numpy as np
import datetime

if __name__ == '__main__':
    data_tectia = [0.281690141, 0.075471698, 0.075949367, 0.125984252, 0.126582278, 0.090909091, 0.127516779,
                   0.088235294, 0.115384615, 0.103773585, 0.176470588]
    data_cisco = [0.284112902, 0.37374861, 0.310145898, 0.331873366, 0.305733899, 0.294542651, 0.299399791,
                  0.305667481, 0.304292253, 0.306746094, 0.316244234]
    data_mysql = [0.339556488, 0.339164938, 0.303796701, 0.243111181, 0.264325424, 0.280613624, 0.274595948,
                  0.271921346, 0.261726556, 0.250338187, 0.247917533]

    # dates = [datetime.date(2012, 5, 1),
    #          datetime.date(2012, 6, 1),
    #          datetime.date(2012, 7, 1),
    #          datetime.date(2012, 8, 1),
    #          datetime.date(2012, 9, 1),
    #          datetime.date(2012, 10, 1),
    #          datetime.date(2012, 11, 1),
    #          datetime.date(2012, 12, 1),
    #          datetime.date(2013, 1, 1),
    #          datetime.date(2013, 2, 1),
    #          datetime.date(2013, 3, 1)]

    dates = ['May \'12', 'June', 'July', 'August', 'September', 'October', 'November', 'December',
             'January \'13', 'February', 'March']

    plt.plot(dates, data_tectia, marker="o", label="Tectia")
    plt.plot(dates, data_cisco, marker="o", label="Cisco")
    plt.plot(dates, data_mysql, marker="o", label="MySQL")
    plt.ylim(bottom=0, top=0.4)
    plt.xticks(rotation=45, color='gray')
    plt.grid(axis='y')
    plt.gca().set_yticklabels(['{:.0f}%'.format(x * 100) for x in plt.gca().get_yticks()])
    # plt.title("Maintained Service Ratio")
    plt.legend()
    plt.savefig(fname="MSR.png", bbox_inches="tight", pad_inches=0.2)
    plt.show()
