from ipwhois import IPWhois


def get_names(ip_address):
    obj = IPWhois(ip_address)
    results = obj.lookup_rdap(depth=0, inc_nir=False, asn_methods=['whois'])
    resulting_objects = results['objects']

    names = []
    for item in resulting_objects:
        if 'contact' not in resulting_objects[item]:
            continue

        if 'address' not in resulting_objects[item]['contact']:
            continue

        if resulting_objects[item]['contact']['address'] is None:
            continue

        for address in resulting_objects[item]['contact']['address']:
            if address['value'] is not None:
                names.append(address['value'])

    return names


print(get_names('178.79.58.137'))
